<h1>Red October</h1>
<h2>Красный Oктябрь</h2>

<form id="ping" action="/ping" method="POST">
  <label for="url">http://www.sfu.ca<input type="text" id="url" name="url" value="/itservices.html" /></label><br/>
  <label for="timeout">Timeout</label> <input type="text" name="timeout" id="timeout" value="20000" />ms</label><br>
  <input type="submit" value="One Ping Only, Please" />

</form>

<div class="results"></div>

<script>
// $('form#ping').on('submit', function(ev) {
//   ev.preventDefault();
//   $('.results').html('<p>Pinging&hellip;</p>');
//   $.post('/ping', {url: $('#url').val(), timeout: $('#timeout').val() }, function(data) {
//     data = JSON.parse(data);
//     var html = ['<section class="successes"><ul>'];
//     data.successes.forEach(function(response) {
//       html.push('<li>' + response.res.url + ' - Status ' + response.res.status + ' ' + response.res.statusText + ' - ' + response.elapsed_ms + ' ms</li>');
//     });
//     html.push('</ul></section><section class="failures"><ul>');
//     data.failures.forEach(function(response) {
//       html.push('<li>' + response + '</li>');
//     })
//     html.push('</ul>');

//     $('.results').html(html.join(''));
//   });
// });
</script>